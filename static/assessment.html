
<!DOCTYPE html>
<html>
<head><title>Assessment</title></head>
<body style="font-family:Arial;">

<nav style="background:#2c3e50;padding:10px;">
  <a href="/index.html" style="color:white;margin:10px;">Home</a>
  <a href="/onboarding.html" style="color:white;margin:10px;">Onboarding</a>
  <a href="/login.html" style="color:white;margin:10px;">Login</a>
  <a href="/dashboard.html" style="color:white;margin:10px;">Dashboard</a>
  <a href="/assessment.html" style="color:white;margin:10px;">Assessment</a>
  <a href="/plan.html" style="color:white;margin:10px;">Action Plan</a>
  <a href="/student_resources.html" style="color:white;margin:10px;">Education</a>
  <a href="/music.html" style="color:white;margin:10px;">Music</a>
  <a href="/chatbot/index.html" style="color:white;margin:10px;">Chatbot</a>
  <a href="/admin.html" style="color:white;margin:10px;">Admin</a>
</nav>

<h2>Stress Assessment Questionnaire</h2>
<form id="assessmentForm">
  <label>How stressed do you feel today? (1-10)</label><br>
  <input type="number" name="q1" min="1" max="10" required><br><br>

  <label>How many hours did you sleep last night?</label><br>
  <input type="number" name="q2" min="0" max="12" required><br><br>

  <label>Do you feel you can manage your workload? (1-10)</label><br>
  <input type="number" name="q3" min="1" max="10" required><br><br>

  <button type="submit">Submit</button>
</form>

<p id="result"></p>

<script>
document.getElementById("assessmentForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  let form = new FormData(e.target);
  let answers = {}, score = 0;
  for (let [k,v] of form.entries()) { answers[k]=v; score+=parseInt(v); }
  let res = await fetch("/api/assessment", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body: JSON.stringify({user_id:"demo_user", score:score, answers:answers})
  });
  let data = await res.json();
  document.getElementById("result").innerText = "Saved. Stress Level: " + data.label;
});
</script>
</body>
</html>
